/*!
 * CBE tracking
 *
 * JavaScript tracking client
 *
 * @link https://capturehighered.com
 */
!function(U,F){"use strict";var c=U.navigator,o="_cbe",B="/cbe/footprint";function $(e,t,n,r){(t=z(t)?t:{}).error=u(e)?e:"",t.method=n||"",t.cbe="error",z(e)&&(t.error=e.message,t.errorFull=e.toString(),t.errorName=u(e.name)&&e.name,t.errorStack=u(e.stack)&&e.stack,t.errorFile=u(e.fileName)&&e.fileName,t.errorLine=!isNaN(e.lineNumber)&&e.lineNumber,t.errorCol=!isNaN(e.columnNumber)&&e.columnNumber),re({url:r,data:t})}function q(e,t){if(1==t.length&&null!==t[0]&&"object"==typeof t[0]&&!k.isNode(t[0]))return t[0];for(var n={},r=Math.min(e.length+1,t.length),i=0;i<r;i++)i<e.length&&(n[e[i]]=t[i]);return n}function a(e){var t,n=[];for(t in e)z(e[t])&&e[t]?n.push(U.encodeURIComponent(t)+"="+U.encodeURIComponent(l(e[t]))):e.hasOwnProperty(t)&&e[t]&&""!==e[t]&&n.push(U.encodeURIComponent(t)+"="+U.encodeURIComponent(e[t]));return n.join("&")}function l(e){return V(JSON)?JSON.stringify(e):null}function s(e,t){for(var n in t)e[n]=t[n];return e}function e(e){return"prerender"!=F.visibilityState&&"hidden"!=F.visibilityState&&(e(),1)}function H(e,t){return n(e)===n((t?K(t):U.location).hostname)}function V(e){return void 0!==e}function u(e){return null!=e&&-1<(e.constructor+"").indexOf("String")}function W(e){return"function"==typeof e}function z(e){return"object"==typeof e}function f(e){return"[object Array]"==Object.prototype.toString.call(Object(e))}function J(e){return!!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function d(e){return e&&"function"==typeof e.trim?e.trim():e.replace(/^\s+|\s+$|^\u00A0+|\u00A0+$/g,"")}function m(e,t,n){if(!e)return-1;if("function"==typeof e.indexOf)return e.indexOf(t,n);var r,i=Object(e),a=i.length>>>0;if(0==a)return-1;n|=0;if(a<=n)return-1;for(r=Math.max(0<=n?n:a-Math.abs(n),0);r<a;r++)if(r in i&&i[r]===t)return r;return-1}function Z(e,t){return-1!==m(t,e)}function Q(e,t,n,r){var i,a=U.screen,o=F.location;e=s({},e),t=s({},t),z(r=r||t.page||U.location)||(r=K(r)),e.ppr=r.protocol.replace(":",""),e.po=r.hostname,e.pp=h(r.pathname),e.ph=r.hash,e.pq=r.search,e.pt=t.title||F.title,e.cbe=n||null,e.cid=t.cid||null,e.pr=function(){var e,t,n=F.referrer;if(/^https?:\/\//i.test(n))return t="//"+F.location.hostname,5!==(e=n.indexOf(t))&&6!==e||"/"!==(t=n.charAt(e+t.length))&&"?"!==t&&""!==t&&":"!==t?n:null;return null}(),e.cs=ae.get("_capc")||null,e.cv=ae.get("_capv")||null;try{e.pl=(c.language||c.browserLanguage||"").toLowerCase(),e.pe=o.characterSet||o.charset,e.ps=a.width+"x"+a.height,e.pc=a.colorDepth+"-bit",e.pv=function(){var e=F.body,t=F.documentElement,n=e&&e.clientWidth&&e.clientHeight,r=[];t&&t.clientWidth&&t.clientHeight&&("CSS1Compat"===F.compatMode||!n)?r=[t.clientWidth,t.clientHeight]:n&&(r=[e.clientWidth,e.clientHeight]);return(t=r[0]<=0||r[1]<=0)?"":r.join("x")}(),V(U.Intl)&&(e.tz=U.Intl.DateTimeFormat().resolvedOptions().timeZone)}catch(e){}for(i in t)e[i]=("linkPage"===i||"formPage"===i)&&K(t[i]).href||t[i];return e}function G(e){return e||"https://cbe.capturehighered.net"}function K(e){e=e&&u(e)?d(e):U.location.href;var t=F.createElement("a");return t.href=e,t.hostname||(t.href=U.location.protocol+"//"+U.location.hostname+e),{pathname:h(t.pathname),hostname:t.hostname,protocol:t.protocol,origin:t.origin,host:t.host,hash:t.hash,href:t.href,port:t.port,search:t.search}}function n(e){return e.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"")}function X(e){var t,n,r=(n=(t=e).length,(t="*."===(t="."===t.charAt(--n)?t.slice(0,n):t).slice(0,2)?t.slice(1):t).split("."));"www"===r[0]&&r.shift();for(var i=r.length-1;0<=i;i--)2<r.length&&r.shift();return e="."+r.join(".")}function h(e){return e=e&&"/"!==(e="/"!==e&&"/"===e.substr(-1)?e.substr(0,e.length-1):e)&&"/"!==e.charAt(0)?"/"+e:e}function Y(e,t){var n,r={};if(V(t)||(t=!0),u(e=!V(e)?F.location.search:e)&&""!==e)for(var i=e.substring(1).split("&"),r={},a=0;a<i.length;a++)u((n=i[a].split("="))[0])&&(u(n[1])?r[!0===t?n[0].toLowerCase():n[0]]=d(U.decodeURIComponent(n[1])):r[!0===t?n[0].toLowerCase():n[0]]="");return r}function p(e){if(e){var t=e.form,n=e.name;return"SELECT"===e.nodeName&&e.multiple?r(e.options):n&&"checkbox"===e.type?r(t[n.replace(/["\\]/g,"\\$&")]||[]):n&&"radio"===e.type?r(t[n.replace(/["\\]/g,"\\$&")]||[])||null:n&&t&&"FORM"===t.nodeName&&t[n]&&k.isNode(t[n])?i(t[n].value):i(e.value)}}function r(e){var t=[];if(e)if(k.isNode(e))(e.checked||e.selected)&&t.push(i(e.value));else for(var n=0;n<e.length;n++)(e[n].checked||e[n].selected)&&t.push(i(e[n].value));return t}function i(e){if(e&&u(e)){var t=F.createElement("textarea");return t.innerHTML=e,t.value}return e}function ee(e){var t,n,r,i={};if(V(e))for(var a=e.length-1;0<=a;a--)(r=e[a])&&!r.disabled&&(t=r.type||null,!(n=V(r.name)&&r.name||V(r.id)&&r.id||["cbe-field",t,a].join("-"))||t&&t.match(/^(submit|button|reset|file|image|password|hidden)$/)||(i[n.replace(/["\\]/g,"\\$&")]=p(r)));return i}function te(){try{var e=new Uint32Array(1);return U.crypto.getRandomValues(e),536870911&e[0]}catch(e){return Math.round(536870911*Math.random())}}function ne(){for(var e=c.userAgent+(F.cookie||"")+(F.referrer||""),t=e.length,n=U.history.length;0<n;)e+=n--^t++;return[te()^536870911&function(e){var t,n,r=1;if(e)for(r=0,n=e.length-1;0<=n;n--)r=0!=(t=266338304&(r=(r<<6&268435455)+(t=e.charCodeAt(n))+(t<<14)))?r^t>>21:r,r|=0;return r}(e),Math.round((new Date).getTime()/1e3)].join("").substring(0,19)}function re(e){return"jsonp"===(e=s({url:null,data:{}},e)).type?(t=e,n=!1,r=F.createElement("script"),i=F.getElementsByTagName("head")[0]||F.documentElement,t.data.t="js",r.type="text/javascript",r.defer=!0,r.async=!0,r.src=t.url+(t.url.indexOf("?")<0?"?":"&")+a(t.data),r.onerror=W(t.error)?t.error:function(){},r.onload=r.onreadystatechange=function(e){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,W(t.success)&&t.success(),r.onload=r.onreadystatechange=null,i&&r.parentNode&&i.removeChild(r))},void i.insertBefore(r,i.firstChild)):("img"===e.type?g:function(t){if(!V(c.sendBeacon)||!V(U.FormData)||!V(JSON))return g(t);var e,n=new U.FormData;for(e in t.data)(z(t.data[e])&&t.data[e]||t.data.hasOwnProperty(e)&&t.data[e]&&""!==t.data[e])&&(z(t.data[e])?n.append(e,l(t.data[e])):n.append(e,t.data[e]));W(c.sendBeacon.bind)&&c.sendBeacon.bind(c);try{var r=c.sendBeacon(t.url,n);r||g(t)}catch(e){g(t)}})(e);var t,n,r,i}function ie(e,t,n){function r(e){U[o]&&U[o][t]&&e(U[o][t])}U[o][t]?r(n):re({url:e,type:"jsonp",success:function(){r(n)}})}function g(e){e.data.t="img",e.data.ts=Math.floor((new Date).getTime()/1e3);var t=new Image(1,1);t.src=e.url+".gif"+(e.url.indexOf("?")<0?"?":"&")+a(e.data),t.alt="Tracking pixel",t.onload=W(e.success)?e.success:function(){},t.onerror=W(e.error)?e.error:function(){}}function v(r){var e,t,n,i,a={pageview:["page","title"],form:["form"],link:["linkTitle","linkPage","page","title"],event:["category","action","label","page","title"],embed:["content_id","content_options"]},o=["type","population","firstName","lastName","email"],c=r.name&&"d"!==r.name?r.name:c,l=["pageview","pagefocus","pageleave","form","id","link","event","embed","destroy"],s={},u=G(r.trackingUrl),d=u+B,f=r.trackingId||null,m=r.cookiePath||"/",h=r.cookieDomain||X(U.location.hostname),p=!1,g=!1,v=!1,y=[],b="cbe_email",_="cbeid",k="scid",E="altid",N="prid";function S(e,t){$(e,Q(s),t,d)}function w(t){!function(t){if(!g)return W(U[c].content)?(g=U[c].content(ce,c,1),t.call(self,g)):ie(u+"/cbe/content.js?v=1","content",function(e){try{W(g=e(ce,c,1))&&(g=new g({mobile:v,props:s,url:u})),t.call(self,g)}catch(e){S(e,"getContentLib")}});t.call(self,g)}(function(e){e.processContent(t)})}function C(e,t){return t&&(s[e]=t),s}function T(e){e&&(J(e)?s.em||C("em",e):(s.scid||C("scid",e),s.cbeid||C("cbeid",e)))}function A(e){var t=ae.get("_capid"),t=e||t||ae.get("_cap");t&&!isNaN(t)||(t=ne(),C("new",1)),t&&""!=t&&!isNaN(t)&&(C("vid",t),ae.set("_cap",U.encodeURIComponent(t),63072e6,m,h))}function L(e){e=e||ae.get("_caps");(e=!e||isNaN(e)?Math.floor(65535&te())+""+Math.round((new Date).getTime()/1e3):e)&&""!=e&&!isNaN(e)&&(C("sessid",e),ae.set("_caps",e,9e5,m,h))}function j(e){var t,n;e?t=e:n=s.prid?(t=s.prid,"query"):(t=ae.get("_capp")||function(e){try{if(V(localStorage)&&z(localStorage))return localStorage.getItem(e)}catch(e){}}("_capp"),"cookie"),!s.is_test&&t&&""!==t&&(s.cbe_source||C("cbe_source",n),C("prid",t),ae.set("_capp",U.encodeURIComponent(t),864e5,m,h),function(e,t){try{if(V(localStorage)&&z(localStorage)&&localStorage.setItem(e,t));}catch(e){}}("_capp",U.encodeURIComponent(t)))}function x(){function i(e){try{var t=e.target&&e.target.form||e.srcElement&&e.srcElement.form||e.target;t&&"FORM"===t.nodeName&&null===t.getAttribute("data-cbe-form-id")&&O(t,"submit"==e.type||"click"==e.type)}catch(e){S(e,"trackFormsSubmit")}}function e(e){try{var t,n=e.target||e.srcElement||e.target,r=n&&n.form;r&&(t=n.innerText&&n.innerText.toLowerCase(),!(r.getAttribute("data-embed")&&V(U.FW)||"submit"===n.type||t&&t.match("send|submit"))||function(e){var t=e.elements;if(t&&t.length)for(var n=0;n<t.length;n++)if(z(e=t[n])&&e.willValidate&&z(e.validity)&&!e.validity.valid)return;return 1}(r)&&i(e))}catch(e){S(e,"trackFormsClick")}}oe.undelegate(F,"form","change.fm",i,!0),oe.undelegate(F,"form","submit.fm",i,!0),oe.undelegate(F,"form button","click.fm",e,!1),oe.delegate(F,"form","change.fm",i,!0),oe.delegate(F,"form","submit.fm",i,!0),oe.delegate(F,"form button","click.fm",e,!1)}function I(e,t){if(Z(e,l)){var n={data:Q(s,t,e),type:e.match("embed|pageview")?"jsonp":null,url:d};return"jsonp"===n.type&&!0!==r.ignoreLoadEvent?oe.onLoad(function(){re(n)},e):re(n),!0}}function D(e){var t;if((s[t="new"]&&delete s[t],e.ts&&!isNaN(e.ts))&&1800<=(new Date).getTime()/1e3-e.ts)return;v=1==e.m,e.pid&&e.pid!==s.prid&&j(e.pid),e.id&&e.id!==s.vid&&A(e.id),p&&!0!==e.embed||!1===r.content||!e.c||(w(e.c),!0!==e.embed&&(p=!0)),function(){try{if(s.prid&&W(U.URL)&&V(U.history)){var e=new U.URL(U.location.href),t=e.searchParams;if(t&&z(t)&&W(t.has)&&t instanceof URLSearchParams){for(var n,r=!1,i=[b,_,E,"cbe_"+E,k,"cbe_"+k,N,"cbe_"+N],a=0;a<i.length;a++)t.has(i[a])&&(t.delete(i[a]),r=!0);r&&(n=t.toString().replace(/=$|=(?=&)/g,""),U.history.replaceState({},"",[e.pathname,n?"?"+n:"",e.hash].join("")))}}}catch(e){S(e,"resetPageParameters")}}()}function O(e,t){if(e){var n,r=[],i=ee(e.elements),a=e.getAttribute("id")||e.getAttribute("action")||"";for(n in V(y[a])&&(clearTimeout(y[a]),y[a]=!1),i)J(i[n])?(r.push(i[n]),i[n]=i[n]):i[n]="";t?y[a]=setTimeout(function(){y[a]=!1,I("form",{formID:e.getAttribute("data-cbe-app-form-id")||null,formEm:r.length?r.join(","):null,formPage:e.getAttribute("action"),formTitle:e.getAttribute("id"),formData:i})},10):!s.prid&&r.length&&(y[a]=setTimeout(function(){y[a]=!1,I("id",{formEm:r.join(",")})},5e3))}}function R(e){e&&(T(e),C("cbe_source","direct"),I("id"))}function P(){try{var e,t,n;arguments.length&&(n="string"==typeof arguments[0]?(e=arguments[0],[].slice.call(arguments,1)):(e=arguments[0]&&arguments[0].type,arguments),e&&(t=q(a[e]||[],n),"complete"===e?D(t):"id"===e?R(t.id):"form"===e?O(t.form):I(e,t)))}catch(e){S(e,"log")}}function M(e){try{"visible"===F.visibilityState&&(ae.get("_caps")||(L(),I("pagefocus")))}catch(e){S(e,"trackPageVisibility")}}return ae.set("_capt",1,100,m,h),e=Y()||{},n=(e.utm_campaign===_?e.utm_content:e["utm_"+_])||e[_]||!1,t=F.referrer&&Y(K(F.referrer).search)||{},C("v",1.3),C("n",c),C("id",f),(e||t)&&(C("prid",e["cbe_"+N]||e[N]||t[N]),C("scid",e["cbe_"+k]||e[k]||t[k]),C("scid2",e["cbe_"+E]||t["cbe_"+E]),C("em",e[b]||t[b])),e&&(C("cid",e.cid),C("utmc",e.utm_campaign),C("utmn",e.utm_source),C("utmm",e.utm_medium),C("utmct",e.utm_content),C("utmt",e.utm_term),C("cbe_rcid",e.cbe_rcid),C("cbe_ldpg",e.cbe_ldpg),C("cbe_source",e.cbe_source)),e&&(e.is_test||e.cbe_test)&&(C("is_test",!0),C("content_id",e.content_id||e.cbe_content)),n&&T(n),A(),j(),L(),(n=ae.get("_capc"))&&ae.set("_capc",n,9e5,m,h),!1!==r.trackLinks&&(i=F.links)&&(oe.unbind(i,"click.lk",n=function(e){try{var t=e.target||e.srcElement,n=W(t.getAttribute)&&t.getAttribute("href");n&&t.host&&(H(t.host)&&("#"===n||"#"!==n.charAt(0))||I("link",{linkPage:t.href,linkTitle:t.text}))}catch(e){S(e,"trackLinks")}}),oe.bind(i,"click.lk",n)),!1!==r.trackForms&&x(),!1!==r.trackPageVisibility&&(oe.unbind(F,"visibilitychange.tk",M),oe.bind(F,"visibilitychange.tk",M)),{data:s,sendRequest:I,destroy:function(){ae.destroy("_cap",m,h),ae.destroy("_capid",m,h),ae.destroy("_caps",m,h),ae.destroy("_capsess",m,h),ae.destroy("_capc",m,h),ae.destroy("_capv",m,h),ae.destroy("_capp",m,h),function(e){try{if(V(localStorage)&&z(localStorage))localStorage.removeItem(e)}catch(e){}}("_capp"),I("destroy"),A(),L()},form:O,id:R,log:P,embed:function(){P.apply(this,[].concat.apply(["embed"],arguments))},getIsMobile:function(){return v},getData:function(){return s},getCookieDomain:function(){return h},getCookiePath:function(){return m},getApiHost:function(){return u},getApiUrl:function(){return d},person:function(){var e=q(o,[].slice.call(arguments));return I("form",{formID:e.type,formData:JSON.stringify({population_type:e.population,first_name:e.firstName,last_name:e.lastName,email:e.email})})}}}function y(){for(var e,t,n,r=[],i=0;i<arguments.length;i++){var a=(n=t=a=void 0,a={},t=(e=arguments[i])[1]&&e[1].name?e[1].name:null,null!==(n=/^(?:(\w+)\.)?(?:(\w+):)?(\w+)$/.exec(e[0]))&&4===n.length&&(a.queue=t||n[1]||o,a.command=n[3],a.args=[].slice.call(e,1)),a);"create"===a.command?r.unshift(a):r.push(a)}return r}var t,b,_,ae={enabled:function(){try{return V(c.cookieEnabled)?!!c.cookieEnabled:(this.set("_captest","1"),"1"==this.get("_captest"))}catch(e){return!1}},set:function(e,t,n,r,i,a){var o,c="";t=t?U.encodeURIComponent(t):"",i=i?";Domain="+i:"",a=a?";Secure":"",r=";path="+(r||"/"),n&&((o=new Date).setTime(o.getTime()+n),c=";expires="+o.toUTCString()),F.cookie=e+"="+t+c+r+i+a+";samesite=Lax"},get:function(e){e=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return!(!e||!e[2])&&U.decodeURIComponent(e[2])},destroy:function(e,t,n,r){this.set(e,"",-1,t,n,r)}},oe={events:{},addEvent:function(e,t,n,r,i,a){var o=e;this.events[o]||(this.events[o]=[]),this.events[o].push({el:t,event:o,handler:n,capture:a||!1,delegated:r||!1,delegatedEl:i||!1}),this.addEventListener(t,e,r||n,a||!1)},removeEvent:function(e,t,n,r,i){var a,o=e;if(this.events[o]){for(var c in this.events[o])(a=this.events[o][c])&&(n=(n=a.delegated?a.delegated:n)||a.handler,i=i||a.capture,r&&a.delegatedEl?a.delegatedEl===r&&(this.removeEventListener(t,e,n,i),this.events[o].splice(c,1)):a.el===t&&(this.removeEventListener(t,e,n,i),this.events[o].splice(c,1)));this.events[o]&&this.events[o].length||delete this.events[o]}},bind:function(e,t,n,r,i,a){if(t){var o=t.split(" ");if(e)for(var c=(e=!f(e)&&!e.length?[e]:e).length-1;0<=c;c--)for(var l=o.length-1;0<=l;l--)this.addEvent(o[l],e[c],n,r,i,a)}},unbind:function(e,t,n,r,i){if(t){if(u(e)&&!t&&this.events[e]){t=e,e=[];for(var a=0;a<this.events[t].length;a++)this.events[t][a].el&&e.push(this.events[t][a].el)}if(e)for(var o=t.split(" "),a=(e=!f(e)&&!e.length?[e]:e).length-1;0<=a;a--)for(var c=o.length-1;0<=c;c--)this.removeEvent(o[c],e[a],n,r,i)}},delegate:function(e,i,t,a,n){this.bind(e,t,a,function(e){if(e.target){var t=!1,n=k.find(i,e.currentTarget||e.searchElement);if(0<=m(n,e.target))t=n[m(n,e.target)];else for(var r=0;r<n.length;r++)if(n[r].contains(e.target)){t=n[r];break}t&&(e.delegateTarget=t,a.call(this,e))}},i,n)},undelegate:function(e,t,n,r,i){this.unbind(e,n,r,t,i)},addEventListener:function(e,t,n,r){e!==U&&!k.isNode(e)||(t=t.split(".")[0],e.addEventListener?e.addEventListener(t,n,r):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},removeEventListener:function(e,t,n,r){e!==U&&!k.isNode(e)||(t=t.split(".")[0],e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null)},trigger:function(e,t){try{var n;W(Event)?n=new Event(t):(n=F.createEvent("Event")).initEvent(t,!0,!0),e.dispatchEvent(n)}catch(e){}},onReady:function(e,t){var n,r;F.readyState&&!/interactive|complete/.test(F.readyState)?(r=function(){oe.unbind(F,n,r),e.call(this)},oe.bind(F,n="DOMContentLoaded"+(t?"."+t:""),r)):e.call(this)},onLoad:function(e,t){var n,r;F.readyState&&"complete"!==F.readyState?(r=function(){"complete"===F.readyState&&(oe.unbind(F,n,r),setTimeout(function(){e.call(this)},10))},oe.bind(F,n="readystatechange"+(t?"."+t:""),r)):e.call(this)}},k={isNode:function(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName&&("undefined"!=typeof Node?e instanceof Node:e)},nodeCollectionToArray:function(e){var t,n=[];if(!e||!e.length)return n;for(t=0;t<e.length;t++)n.push(e[t]);return n},setDomStyles:function(e,t){if(z(t))for(var n in t)try{e.style[n]=t[n]}catch(e){}return e},setStyleBlock:function(e,t){var n=F.createElement("style");t=t||F.head||F.getElementsByTagName("head")[0],n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)},closest:function(e,t){if(Element.prototype.closest)return t.closest(e);var n=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;if(n)do{if(n.call(t,e))return t}while(null!==(t=t.parentElement||t.parentNode)&&1===t.nodeType)},find:function(e,t,n){var r,i,a,o,c=z(t)?t:document,l=0,s=[],u=[];f(e)||(e=[e]);for(var d=0;d<e.length;d++)if(r=(a=e[d].replace(/^\s+|\s+$/g,"")).split(" ").length,"#"===a.substring(0,1)&&1===r)a=a.slice(1,a.length),(o=F.getElementById(a))&&(u=u.concat(o));else if(V(c.querySelectorAll))(o=c.querySelectorAll(a))&&(u=u.concat(this.nodeCollectionToArray(o)));else if(s=c.all,"."===a.substring(0,1))if(a=a.slice(1,a.length),V(c.getElementsByClassName))(o=c.getElementsByClassName(a))&&(u=u.concat(this.nodeCollectionToArray(o)));else for(i=new RegExp("(^|\\s)"+a+"(\\s|$)"),l=0;l<s.length;l++)(o=s[l])&&i.test(o.className)&&u.push(o);else if("["===a.substring(0,1)&&"]"===a.substring(a.length-1,a.length))for(a=(a=a.slice(1,a.length)).substring(0,a.length-1),s=c.getElementsByTagName("*"),l=0;l<s.length;l++)(o=s[l])&&null!==o.getAttribute(a)&&u.push(o);else(o=c.getElementsByTagName(a))&&(u=u.concat(this.nodeCollectionToArray(o)));return n?!!u.length&&u.shift():u}},ce={query:k,events:oe,cookies:ae,isArray:f,inArray:Z,logError:$,isObject:z,isString:u,isDefined:V,isFunction:W,stringify:l,serialize:a,mapObject:q,arrayIndex:m,getLibrary:ie,sendRequest:re,isStringEmail:J,isStringPhone:function(e){return e=e.replace(/[\s()+\-\.]/gi,""),!!/^[1-9]\d{6,14}$/.test(e)},getProperties:Q,getFormValues:ee,isSiteHostName:H,getParsedQuery:Y,getCookieDomain:X,getFormFieldVal:p,getParsedUrlString:K},E=["trackingId","userId","cookieDomain"],N=function(){if(arguments)return N.fire.apply(N,[arguments])};N.tracker={},N.fire=function(){for(var e=[],t=y.apply(N,arguments);0<t.length;t.shift())e.push(function(e,t){try{var n=e.tracker[t.queue];if("create"===t.command)return e.create.apply(e,t.args);if(n&&W(n[t.command]))return n[t.command].apply(n,t.args)}catch(e){$(e,{},"callMethod",G()+B)}}(N,t[0]));return 0==t.length?e[0]:e},N.create=function(){var e=q(E,[].slice.call(arguments));e.name=e.name||o;var t=e.name;return N.tracker[t]||(N.tracker[t]=function(e){try{return v(e)}catch(e){$(e,{},"createTracker",G()+B)}}(e),N.tracker[t])},N.destroy=function(){N.fire(["destroy"])},N.track=function(){var e=U[o];if((!e||!e.loaded)&&ae.enabled()&&!ae.get("_capt")){for(var t in e)N[t]=e[t];N.loaded=!0,N.q=[],U[o]=N,e&&f(e.q)&&N.fire.apply(N,e.q)}},b=!1,e(_=N.track)||(t=function(){!b&&e(_)&&(b=!0,oe.unbind(F,"visibilitychange",t,!1))},oe.bind(F,"visibilitychange",t))}(window,document);